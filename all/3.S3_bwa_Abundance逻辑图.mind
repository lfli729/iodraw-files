{"root":{"data":{"id":"cz9rjbdog16o","created":1708417714777,"text":"S3_bwa_Abundance"},"children":[{"data":{"id":"cz9rk7omy6m8","created":1708417785097,"text":"step1","priority":1,"font-size":18},"children":[{"data":{"id":"cz9rlt47j0n4","created":1708417910115,"text":"bwa比对","font-size":16},"children":[{"data":{"id":"cz9rm0pj4v0g","created":1708417926642,"text":"软件：更新版本的bwa，更新内容有2条"},"children":[{"data":{"id":"cz9rmkr42fb4","created":1708417970273,"text":"1.不输出未比对上的【flag=4】结果"},"children":[]},{"data":{"id":"cz9roeepjqbk","created":1708418113191,"text":"2.输出XS值与AS值相等的结果，AS是最优比对得分，XS是次优比对得分","expandState":"expand"},"children":[{"data":{"id":"cz9rol319uyo","created":1708418127722,"text":"解释：若序列A有3个比对结果"},"children":[]},{"data":{"id":"cz9ru6s964u8","created":1708418566780,"text":"比对到物种1判定为最优比对，AS得分是45"},"children":[]},{"data":{"id":"cz9rub4bhm2o","created":1708418576217,"text":"比对到物种2是次优比对，XS得分是45"},"children":[]},{"data":{"id":"cz9rufu9wxs0","created":1708418586494,"text":"比对到物种3是次优比对，XS得分是44"},"children":[]},{"data":{"id":"cz9rv6gynev4","created":1708418644462,"text":"则最终该物种只会输出2个比对结果，XS得分44比最优AS得分45小，被过滤"},"children":[]}]}]},{"data":{"id":"cz9rm45mrev4","created":1708417934146,"text":"比对库"},"children":[{"data":{"id":"cz9rwfo548hs","created":1708418742851,"text":"对序列进行处理后的比对库，部分物种拼接，部分物种进行重新打断融合组装：目前更新到V3版本"},"children":[]},{"data":{"id":"cz9rx35p37cw","created":1708418793979,"text":"比对库构建索引的参数：bwtsw，已测试该参数更符合该项目需求"},"children":[]}]},{"data":{"id":"cz9rm6w30vls","created":1708417940099,"text":"比对参数"},"children":[{"data":{"id":"cz9rwyfeauww","created":1708418783681,"text":"mem：使用该比对算法"},"children":[]},{"data":{"id":"cz9rz954h3wg","created":1708418963733,"text":"-a：输出所有的比对结果"},"children":[]},{"data":{"id":"cz9rzgba8y68","created":1708418979343,"text":"-T：值设置45，目的是减少bam文件结果"},"children":[]},{"data":{"id":"cz9rzyaofb40","created":1708419018488,"text":"-t：线程数"},"children":[]}]}]},{"data":{"id":"cz9s0blg6y9s","created":1708419047438,"text":"samtools","font-size":16},"children":[{"data":{"id":"cz9s0he4hfy8","created":1708419060056,"text":"目的是将bwa输出的sam文件转化成二进制bam文件，降低存储消耗"},"children":[]}]}]},{"data":{"id":"cz9rl4p5jy0w","created":1708417856962,"text":"step2","priority":2,"font-size":18},"children":[{"data":{"id":"cz9s2t01t1q8","created":1708419242054,"text":"软件change9606_bam2txt_v3.11","font-size":16},"children":[{"data":{"id":"cz9s4osdg0e8","created":1708419389611,"text":"做2个处理","expandState":"expand"},"children":[{"data":{"id":"cz9s3ra336rk","created":1708419316672,"text":"处理1：根据知识库把比对到2个属的序列结果丢掉"},"children":[]},{"data":{"id":"cz9s3swgub5s","created":1708419320202,"text":"处理2：同一个序列比对上同一个taxid不同位置的最优和次优只会保留1次"},"children":[]}]},{"data":{"id":"cz9s4uju2u4g","created":1708419402156,"text":"输入文件"},"children":[{"data":{"id":"cz9s5e6blp1c","created":1708419444874,"text":"bwa比对输出的bam文件"},"children":[]},{"data":{"id":"cz9s5gc7ccu8","created":1708419449584,"text":"知识库文件id-know-genus.txt"},"children":[]}]},{"data":{"id":"cz9s5915s7i8","created":1708419433678,"text":"输出文件：*.list"},"children":[{"data":{"id":"cz9s7prnstfk","created":1708419626838,"text":"包含比对taxid以及最优次优得分，是特异性比对还是对比对"},"children":[]}]}]}]},{"data":{"id":"cz9rl6tzpam8","created":1708417861608,"text":"step3","priority":3,"font-size":18},"children":[{"data":{"id":"cz9s9ma64t1c","created":1708419775978,"text":"进行丰度统计以及过滤","font-size":16},"children":[{"data":{"id":"cz9s9yo6sq9s","created":1708419802947,"text":"脚本：cal_UM_reads_Abundance.py"},"children":[{"data":{"id":"cz9sa8k2zeo0","created":1708419824467,"text":"输入文件"},"children":[{"data":{"id":"cz9sayjd579c","created":1708419881020,"text":"-workdir：03目录的工作路径"},"children":[{"data":{"id":"cz9sce69udxc","created":1708419993421,"text":"默认读该路径下的*.list*文件"},"children":[]}]},{"data":{"id":"cz9sba2nj6rk","created":1708419906130,"text":"-sam：样本ID"},"children":[]},{"data":{"id":"cz9sbg07o6ps","created":1708419919044,"text":"-scores：最高得分值，若50SE测序则是50"},"children":[{"data":{"id":"cz9sf3gv23uo","created":1708420205209,"text":"该参数是满分值，脚本内会根据不同病原筛选90%以及95%得分进行过滤"},"children":[]}]},{"data":{"id":"cz9sbt0qqjuo","created":1708419947374,"text":"-idk：知识库文件"},"children":[]}]},{"data":{"id":"cz9sa9p36wow","created":1708419826946,"text":"输出结果"},"children":[{"data":{"id":"cz9sc072vaio","created":1708419962994,"text":"在该目录下建Abundance路径"},"children":[{"data":{"id":"cz9sdhb0w6io","created":1708420078602,"text":".host.stats：统计宿主比对序列以及病原比对序列"},"children":[]},{"data":{"id":"cz9sdiqmvlz4","created":1708420081723,"text":".all_species_info.txt：各个物种阈值过滤后的特异性比对以及多比对reads情况"},"children":[]},{"data":{"id":"cz9sdjpbdcsg","created":1708420083820,"text":"*.fastq：多比对和特异性比对的fastq情况"},"children":[]}]}]},{"data":{"id":"cz9seshkk8hs","created":1708420181307,"text":"2023.10.23更新的比对阈值"},"children":[{"data":{"id":"cz9sft7i4ikg","created":1708420261239,"text":"1.病毒过滤条件宽松"},"children":[{"data":{"id":"cz9sg7weyz9c","created":1708420293221,"text":"a. uniq reads >=1【特异性比对0条序列过滤】"},"children":[]},{"data":{"id":"cz9sgco13t34","created":1708420303597,"text":"b. 特异性是0，只有多比对有检出，CRP 多比对multi reads >= 1 的结果保留"},"children":[]},{"data":{"id":"cz9sgh9ecsg0","created":1708420313597,"text":"c. 特异性是0，只有多比对有检出，非CRP 多比对multi reads > 100 的结果保留"},"children":[]}]},{"data":{"id":"cz9sgw804cg0","created":1708420346164,"text":"2.寄生虫过滤条件"},"children":[{"data":{"id":"cz9sh1n4cdmo","created":1708420357962,"text":"a. uniq reads > 1 的结果保留"},"children":[]},{"data":{"id":"cz9sh4lnljpc","created":1708420364404,"text":"b. 若无特异性检出，多比对 multi reads >100 保留"},"children":[]}]},{"data":{"id":"cz9shb6al1q8","created":1708420378712,"text":"3.只有多比对结果过滤条件【非病毒、非寄生虫序列】"},"children":[{"data":{"id":"cz9shfvnd6gw","created":1708420388953,"text":"a. CRP物种若无特异性检出，CRP及其以上多比对 multi reads >=1 保留"},"children":[]},{"data":{"id":"cz9shjojwcu8","created":1708420397231,"text":"b. 非CRP，若无特异性检出，多比对 multi reads >100 保留"},"children":[]}]},{"data":{"id":"cz9shuiiurk0","created":1708420420811,"text":"4.特异性结果过滤条件【非病毒、非寄生虫序列】"},"children":[{"data":{"id":"cz9shzydxzwg","created":1708420432654,"text":"a. CRP 及其以上特异性 uniq reads >= 1 的结果保留"},"children":[]},{"data":{"id":"cz9si2zifcao","created":1708420439252,"text":"b. 非CRP 特异性 uniq reads > 1 的保留"},"children":[]},{"data":{"id":"cz9si6n7bsw0","created":1708420447215,"text":"c.非CRP 特异性比对不达标条件b可能=1，但多比对 multi reads >100 保留"},"children":[]}]}]}]}]}]},{"data":{"id":"cz9sise2b85c","created":1708420494552,"text":"step4","priority":4,"font-size":18},"children":[{"data":{"id":"cz9sj7qmowlc","created":1708420527963,"text":"其实前面1-3步骤生产流程结束了"},"children":[]},{"data":{"id":"cz9sjgaj1iio","created":1708420546581,"text":"由于担心漏检，新增2个步骤是未进行任何过滤的结果","font-size":16},"children":[{"data":{"id":"cz9sjv4nf18g","created":1708420578877,"text":"RD_change9606_bam2txt_v1.0"},"children":[{"data":{"id":"cz9sk39al88w","created":1708420596573,"text":"输入文件：bwa比对输出的bam文件"},"children":[]},{"data":{"id":"cz9skk178ef4","created":1708420633088,"text":"输出文件：所有检出序列以及物种的_allResult.list文件"},"children":[]}]}]}]},{"data":{"id":"cz9skytavugw","created":1708420665262,"text":"step5","priority":5,"font-size":18},"children":[{"data":{"id":"cz9sltal5xxc","created":1708420731611,"text":"不进行任何过滤，将所有结果输出","font-size":16},"children":[{"data":{"id":"cz9smhfkewow","created":1708420784155,"text":"脚本：cal_UM_reads_Abundance_allResult.py"},"children":[{"data":{"id":"cz9smmoa88ow","created":1708420795566,"text":"输入文件：step4的_allResult.list文件"},"children":[]},{"data":{"id":"cz9smzas48ow","created":1708420823047,"text":"输出文件：未经任何筛选过滤的文件.allResult.all_species_info.txt"},"children":[]}]}]}]}]},"template":"right","theme":"fresh-blue-compat","version":"1.4.43"}