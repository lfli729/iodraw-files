{"root":{"data":{"id":"d3ejy2qfdyio","created":1723528736084,"text":"2.组装"},"children":[{"data":{"id":"d3ekb9h8sl4w","created":1723529769500,"text":"Steps4.metagenome assembly\n step0: preparation【三代无】"},"children":[{"data":{"id":"d3ekbfe3vthc","created":1723529782371,"text":"调用脚本：metaG_main_pipeline/genome_assembly_preparation.py"},"children":[]},{"data":{"id":"d3ekbiely5mo","created":1723529788932,"text":"id: genome_assembly_preparation_cleanData"},"children":[]},{"data":{"id":"d3ekblbdbthc","created":1723529795266,"text":"脚本用途"},"children":[{"data":{"id":"d3ekbo5m0mww","created":1723529801449,"text":"1.读入去宿主后的fq序列，读入脚本配置文件获取seqkit的路径；"},"children":[]},{"data":{"id":"d3ekbsi7d0cg","created":1723529810917,"text":"2.使用seqkit stats统计每个fastq的总序列数、总碱基数、最长序列长度、最短序列长度、平均序列长度等。"},"children":[]},{"data":{"id":"d3ekbwn4w4xs","created":1723529819922,"text":"3.同时会在结果路径cleanData下生成cleanData.baseNum文件记录每个序列的碱基数目。"},"children":[]}]},{"data":{"id":"d3ekc13ah728","created":1723529829606,"text":"输出文件夹：genome_assembly_preparation_cleanData_*"},"children":[]},{"data":{"id":"d3ekc88as6bk","created":1723529845147,"text":"任务关联"},"children":[{"data":{"id":"d3ekc966fda8","created":1723529847195,"text":"上级任务data_process_rmhost"},"children":[]},{"data":{"id":"d3ekccc9igow","created":1723529854094,"text":"下级任务genome_assembly"},"children":[]}]}]},{"data":{"id":"d3ekcjv6qayo","created":1723529870475,"text":"Steps4.metagenome assembly\n step1:assemble【二、三代区别】"},"children":[{"data":{"id":"d3ekcod5q328","created":1723529880269,"text":"二代组装"},"children":[{"data":{"id":"d3ekd1c7x62o","created":1723529908510,"text":"调用脚本：metaG_main_pipeline/assembly_cwl.py"},"children":[]},{"data":{"id":"d3ekd5cu4000","created":1723529917255,"text":"id: genome_assembly"},"children":[]},{"data":{"id":"d3ekd8ed57gg","created":1723529923878,"text":"脚本用途"},"children":[{"data":{"id":"d3ekdboq7da8","created":1723529931035,"text":"1.从项目配置文件detail.cfg获得组装的方法assembly_method，从脚本汇总文件script.cfg获得组装软件的路径；"},"children":[]},{"data":{"id":"d3ekl64lo8ow","created":1723530545847,"text":"2.组装软件有两种选择：megahit和idba_ud；"},"children":[]},{"data":{"id":"d3ekl7nnfev4","created":1723530549176,"text":"若选择megahit的参数如下：\nmegahit -f【强制运行模式】 -t 6 -1 输入fq1 -2 输入fq2 -o 组装结果路径【outputs/samplename_assemble】 --out-prefix 输出文件前缀samplename\n --k-list 参数可选normal和meta_large【指定 k-mer 长度的列表【'normal': '27,37,47,69,93,121'、'meta_large': '31,41,51,75,103'】\n如果上一步中cleandata的数据量超过一半>11G选meta_large】；然后将组装好的contigs.fa文件处理成contigs.fasta"},"children":[]},{"data":{"id":"d3ekldcyc2rk","created":1723530561590,"text":"若选择idba_ud需要先将数据解压，将fq转成fa：\n/share/nas2/genome/biosoft/idba/1.1.1/bin/fq2fa --merge --filter 输入fq1 输入fq2 输出文件samplename.fa\n读一条序列的长度，如果>300的组装参数如下：\n/share/nas2/genome/biosoft/idba/1.1.1/bin/idba_ud -r 输入fa文件【-r长度是小于300】 --out 输出文件fa --num_threads 6 --pre_correction【组装前进行预校正】\n如果<300的组装参数如下：\nidba_ud -l 输入fa文件【-l长度是大于300】 --out 输出文件fa --num_threads 6 --pre_correction【组装前进行预校正】\n然后将组装好的contigs.fa文件处理成contigs.fasta"},"children":[]}]},{"data":{"id":"d3eklotucvls","created":1723530586555,"text":"输出文件夹：genome_assembly_*"},"children":[]},{"data":{"id":"d3ekpyryfzeo","created":1723530921666,"text":"比对的算法原理"},"children":[{"data":{"id":"d3ekstwpcr28","created":1723531146161,"text":"算法"},"children":[{"data":{"id":"d3ekswklj280","created":1723531151960,"text":"拼接 (Greedy) 算法：如 ABySS 和 ALLPATHS-LG，通过贪婪方式逐步拼接短读长数据。"},"children":[]},{"data":{"id":"d3ektpka1ngg","created":1723531215067,"text":"Overlap-Layout-Consensus (OLC) 算法：如 Canu 和 Celera Assembler，通过重叠对齐短读长数据并生成共识序列。"},"children":[]},{"data":{"id":"d3ekuej6t62o","created":1723531269421,"text":"De Bruijn 图算法：如 SOAPdenovo、Velvet 和 IDBA-UD，利用 De Bruijn 图来处理短读长数据。"},"children":[]}]}]}]},{"data":{"id":"d3ekcy9ldqf4","created":1723529901821,"text":"ONT组装"},"children":[{"data":{"id":"d3ekm0lg9csg","created":1723530612169,"text":"调用脚本：nanopore_assembly.py"},"children":[]},{"data":{"id":"d3ekmad29fy8","created":1723530633430,"text":"脚本用途"},"children":[{"data":{"id":"d3ekmmah5log","created":1723530659395,"text":"1.从script.cfg配置文件中读入flye软件以及flye环境变量"},"children":[]},{"data":{"id":"d3ekmsuxvbwg","created":1723530673693,"text":"2.三代全长组装只有flye软件可选；组装参数：flye --nano-raw cleanfq --meta【meta模式，序列会更加的片段化】 --out-dir output\n -i 1【只进行一次polish，进行多次polish会矫正更多的错误】","layout_right_offset":{"x":1,"y":10}},"children":[]}]},{"data":{"id":"d3ekncr1qzgg","created":1723530716993,"text":"分支主题"},"children":[]}]}]}]},"template":"right","theme":"fresh-green-compat","version":"1.4.43"}